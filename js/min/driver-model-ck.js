"use strict";function login_model(e,t,o){function a(e){var t=e.split("-"),o={link:t[0],name:t[1]};return console.log(o),o}DidYouLogin("login");var n=["http://demo.yunbaogong.cn/v1/-默认"];null===localStorage.getItem("baseurl")&&(localStorage.setItem("baseurl",a(n[0]).link),localStorage.setItem("baseurl-type",a(n[0]).name));var r=0;e.change_to_test_model=function(){r<n.length-1?r++:r=0,console.log(r),localStorage.setItem("baseurl",a(n[r]).link),localStorage.setItem("baseurl-type",a(n[r]).name),"正式"!=localStorage.getItem("baseurl-type")&&(e.openTest=!0),e.weblinkText=localStorage.getItem("baseurl-type")[0],$.toast("已进"+localStorage.getItem("baseurl-type")+"环境，好好干活，别乱提bug")},e.login={user_id:222,content:{mobile:"18670761956",password:"123456",device_id:124123123},type:3,group_id:12};var l=e.login;e.submit=function(){if(localStorage.setItem("mobile",e.login.content.mobile),localStorage.setItem("password",e.login.content.password),""==e.login.content.mobile||void 0==e.login.content.mobile)return void $.toast("手机号码不能为空");if(!rule_mobile.test(e.login.content.mobile))return void $.toast("手机号码格式错误");if(""==e.login.content.password||void 0==e.login.content.password)return void $.toast("密码不能为空");$.showIndicator();var o=e.login;console.log(o),t.post(Url("user/login"),o).error(function(e){error(),$.hideIndicator()}).success(function(e){$.hideIndicator(),console.log(e),1==e.success?($.toast(e.data.msg),e.data.code>0&&(localStorage.setItem("username",e.data.username),localStorage.setItem("token",e.data.token),localStorage.setItem("city",e.data.city),localStorage.setItem("userid",e.data.id),window.location.href="#/shop/index")):"false"==e.success&&$.toast(e.data.msg)})}}function register_model(e,t){DidYouLogin("me/index"),e.citygroup=[{name:"长沙",id:197},{name:"衡阳",id:196}],e.getCode=function(){getCode(60,1,e.userdata.mobile,t)},e.userdata={city:197,content:{captcha:"1234",password:"111111",sure_password:"111111",device_id:localStorage.getItem("uuid")},group_id:12,mobile:"13467607656",type:"3"},e.submit=function(){console.log(JSON.stringify(e.userdata)),t.post(Url("user/join"),e.userdata).error(function(){error()}).success(function(e){console.log(e),e.success===!0&&e.data.code>0?window.location.href="#/register/finish":$.toast(e.data.msg)})}}function me_model(e,t){e.more_option=function(){var e=[{text:"当前软件版本:v 1.0",label:!0,onClick:function(){requireTranMsg()}},{text:"版本检测",onClick:function(){versionRefresh("Y")}},{text:"退出账户",bold:!0,color:"danger",onClick:function(){localStorage.clear(),window.location.href="#/login"}}],t=[{text:"取消"}],o=[e,t];$.actions(o)},e.userinfo={name:localStorage.getItem("username"),integral:1400}}function order_list_model(e,t){function o(t,o,a){var n=t/o;localStorage.setItem("orderListCurrentPage",a),console.log("总页码:"+n+";当前页码"+a),a>=n?(e.maxpage=!1,e.showEnd=!0):(e.maxpage=!0,e.showEnd=!1)}function a(a,n,r){returnArg(a);var l={content:a,token:localStorage.getItem("token"),user_id:localStorage.getItem("userid")};console.log(JSON.stringify(l)),t.post(Url("order/list"),l).error(function(){error()}).success(function(t){if(console.log(t),t.data.code>0){if(n){var a=JSON.parse(localStorage.getItem(r));for(key in t.data.data)a.push(t.data.data[key]);localStorage.setItem(r,JSON.stringify(a)),console.log(a)}else console.log(t.data.data),localStorage.setItem(r,JSON.stringify(t.data.data));e.order_list_info=t.data,e.order_list_info.data=JSON.parse(localStorage.getItem(r)),o(t.data.count,t.data.pageSize,t.data.page)}else $.toast("请求订单列表失败")})}isEmpty("ls","currentOrderType")||localStorage.removeItem("currentOrderType"),a({page:1},!1,"listContent"),e.search_change=function(){console.log(e.search_value),a({condition:e.search_value},!1,"listContent")},e.search_status=function(e,t){$.toast("查看"+e+"的订单"),"待报价"==e||"待确认"==e?(a({status_service:t},!1,"listContent"),localStorage.setItem("currentOrderType","status_service:"+t)):"待支付"==e?(a({status_pay:t},!1,"listContent"),localStorage.setItem("currentOrderType","status_pay:"+t)):(a({page:1},!1,"listContent"),localStorage.removeItem("currentOrderType"))},e.getOldList=function(){var e=localStorage.getItem("orderListCurrentPage");if(isEmpty("ls","currentOrderType"))a({page:parseFloat(e)+1},!0,"listContent");else{var t=localStorage.getItem("currentOrderType").split(":"),o={page:parseFloat(e)+1};o[t[0]]=t[1],a(o,!0,"listContent")}}}function site_add_model(e,t){e.site_info={address:"",city_id:"",community_id:"",company_id:"",status:"",token:localStorage.getItem("token"),user_id:localStorage.getItem("uid")},console.log(e.site_info)}